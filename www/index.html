<!DOCTYPE html>
<html>

<head>
    <!--
        Customize this policy to fit your own app's needs. For more guidance, see:
            https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
        Some notes:
            * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
            * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
            * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
                * Enable inline JS: add 'unsafe-inline' to default-src
        -->
    <!--<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *">-->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src * data:; 
        script-src 'self'
            http://connect.facebook.net/en_US/sdk.js 
            'unsafe-inline' 'unsafe-eval'; 
        frame-src * 
             http://staticxx.facebook.com/connect/
             https://www.facebook.com/ 'unsafe-inline' 'unsafe-eval';
        connect-src 'self' http://localhost:8000/ ws: http://zotime.ddns.net/ 'unsafe-inline' 'unsafe-eval' ">

    <!-- Required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">

    <!-- Your app title -->
    <title>PhotoDrop</title>

    <!-- This template defaults to the iOS CSS theme. To support both iOS and material design themes, see the Framework7 Tutorial at the link below:
        http://www.idangero.us/framework7/tutorials/maintain-both-ios-and-material-themes-in-single-app.html
     -->

    <!--<link rel="stylesheet" href="lib/framework7/css/framework7.ios.min.css">
    <link rel="stylesheet" href="lib/framework7/css/framework7.ios.colors.min.css">-->
    <link rel="stylesheet" href="lib/framework7/css/framework7.material.min.css">
    <link rel="stylesheet" href="lib/framework7/css/framework7.material.colors.min.css">


    <link rel="stylesheet" href="css/styles.css">
    <link href="css\material-icons.css" rel="stylesheet">
</head>

<body>
    <!-- Views -->
    <div class="views theme-teal">
        <!-- Your main view, should have "view-main" class -->
        <div class="view view-main">
            <!-- Pages container, because we use fixed-through navbar and toolbar, it has additional appropriate classes-->
            <!--<div class="pages navbar-through toolbar-through">-->
            <div class="pages">
                <!-- Page, "data-page" contains page name -->
                <!--Home page-->
                <div data-page="index" class="page">
                    <!-- Top Navbar-->
                    <div class="navbar" style="height: 65px">
                        <div class="navbar-inner navbar-fixed">
                            <!-- We need cool sliding animation on title element, so we have additional "sliding" class -->
                            <div class="center sliding">PhotoDrop</div>
                            <div class="right" style="width: 60%;">
                                <!-- Search Bar -->
                                <form class="searchbar">
                                    <div class="searchbar-input">
                                        <input type="search">
                                        <a href="#" class="searchbar-clear"></a>
                                    </div>
                                    <a href="#" class="searchbar-cancel">Cancel</a>
                                </form>
                                <!-- Search Bar overlay-->
                                <div class="searchbar-overlay"></div>
                                
                            </div>
                        </div>
                    </div>
                    <!-- Floating Action Button -->
                    <a href="#" class="floating-button color-amber mainPG-fab" onclick="addAlbum()">
                        <i class="material-icons">add_to_photos</i>
                    </a>

                    <!-- Scrollable page content -->
                    <div class="page-content list-block" style="padding-bottom: 10px; padding-top: 65px">
                        
                        <div class="content-block-title">YOUR ALBUMS</div>
                        <div class="card">
                            <div class="card-content">
                                <div class="list-block">
                                    <ul id="albumListContain">
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="content-block-title">ALBUMS YOU ARE IN</div>
                        <div class="card">
                            <div class="card-content">
                                <div class="list-block">
                                    <ul id="URN_albumListContain">
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div id="debugBox">
                            <!--DEBUG-->
                        </div>
                    </div>
                </div>

                <!-- Album page -->
                <div class="page cached" data-page="album">
                    <!-- Top Navbar-->
                    <div class="navbar">
                        <div class="navbar-inner navbar-fixed">
                            <div class="left">
                                <!--
                          Right link contains only icon - additional "icon-only" class
                          Additional "open-panel" class tells app to open panel when we click on this link
                        -->
                                <a href="#index" class="link icon-only"><i class="icon icon-back back"></i></a>
                            </div>
                            <!-- We need cool sliding animation on title element, so we have additional "sliding" class -->
                            <div class="center sliding">PhotoDrop</div>
                        </div>
                    </div>
                    <!-- Speed Dial Wrap -->
                    <div class="speed-dial">
                        <!-- FAB inside will open Speed Dial actions -->
                        <a href="#" class="floating-button color-amber">
                            <!-- First icon is visible when Speed Dial actions are closed -->
                            <i class="icon icon-plus"></i>
                            <!-- Second icon is visible when Speed Dial actions are opened -->
                            <i class="icon icon-close"></i>
                        </a>
                        <!-- Speed Dial Actions -->
                        <div class="speed-dial-buttons">
                            <!-- First Speed Dial button -->
                            <a href="#" class="close-speed-dial color-amber" onclick="getImage()">
                                <i class="material-icons">collections</i>
                            </a>
                            <!-- Second Speed Dial button -->
                            <a href="#" class="close-speed-dial color-amber" onclick="takeImage()">
                                <i class="material-icons">photo_camera</i>
                            </a>
                            <!-- Third Speed Dial button -->
                            <a href="#" class="close-speed-dial color-amber" onclick="">
                                <i class="material-icons">videocam</i>
                            </a>
                        </div>
                    </div>
                    <!-- End -->
                    <!-- Scrollable page content -->
                    <div 
                        class="page-content list-block pull-to-refresh-content hide-navbar-on-scroll" 
                        data-ptr-distance="50"
                        style = "user-select: none;"
                    >
                        <div class="content-block">
                            <div class="pull-to-refresh-layer">
                                <div class="preloader"></div>
                                <div class="pull-to-refresh-arrow"></div>
                            </div>

                            <div class="content-block-title" id="album_name_ttl" style="margin:0">YOUR ALBUM NAME</div>
                            <div class="item-content" style="display:none;" id="cont_file_input">
                                <div class="item-inner">
                                    <div class="item-input left">
                                        <input type="file" id="inputfile" multiple/>
                                    </div>
                                </div>
                                <a href="#" onclick="DEV_uploadPics()" class="button button-raised button-fill color-yellow right">upload</a>
                            </div>
                            <!--<p class="buttons-row">-->
                            <!--<a href="#" onclick="iGotTheSauce()" class="button button-raised button-fill color-red">More Sauce!</a>-->
                            <!--<a href="#" class="button button-raised button-fill color-indigo" onclick="photoSwiper()">Swipe media</a>-->
                            <!--</p>-->
                        </div>
                        <div class="list-block" id="inner-body">
                            <!--Rows of photos are placed here by the code-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="lib/framework7/js/framework7.min.js"></script>
    <!--<script type="text/javascript" src="lib/date.js"></script>-->

	<!--TEMPLATES-->
    <script type="text/template7" id="albumListTmplt">
        {{#each album}}
        <li class="swipeout">
            <input type="hidden" value="{{_id.$oid}}">
            <a href="#" class="item-link item-content" onClick="goToAlbumPg('{{title}}', '{{_id.$oid}}')">
                <div class="item-inner">
                    <div class="item-title">{{title}}
                        <div class="time-stamp">{{creation.date}}</div>
                    </div>
                </div>
            </a>
            <div class="swipeout-actions-right">
                <!-- We add data-close-on-cancel attribute to close swipeout automatically -->
                {{#if ../flag}}
                <a href="#" class="swipeout-delete" data-confirm="Are you sure want to delete the album <b>{{title}}</b>?" data-confirm-title="Delete?"
                    data-close-on-cancel="true">Delete</a> {{else}}
                <a href="#" class="swipeout-delete" data-confirm="Are you sure want to remove yourself from the album <b>{{title}}</b>?"
                    data-confirm-title="Remove?" data-close-on-cancel="true">Remove</a> {{/if}}
            </div>
            {{/each}}
        </li>
    </script>


    <script type="text/javascript" src="lib/load-image.all.min.js"></script>
    <script type="text/javascript" src="lib/helper_funcs.js"></script>
    <script type="text/javascript" src="lib/dom7.js"></script>
    <script type="text/javascript" src="lib/md5.js"></script>
    
    <script type="text/javascript" src="js/UTL-media.js"></script>
    <script type="text/javascript" src="js/UTL-network.js"></script>
    <script type="text/javascript" src="js/UTL-ui.js"></script>

    <script type="text/javascript" src="js/my-app.js"></script>
    
    <script type="text/javascript" src="js/test/user.js"></script>

</body>

</html>